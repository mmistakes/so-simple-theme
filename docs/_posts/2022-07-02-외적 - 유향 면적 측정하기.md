---
title: Chapter3 내적과 외적
date: 2022-07-02
categories:
- Chapter 3
---



* #### 스칼라곱은 벡터에 대한 곱의 한 종류이다. 스칼라와 벡터를 결합해 새로운 벡터를 만든다 
* #### 내적과 외적은 수 연산에서 의미가 같다.
* #### 하지만 벡터일 때 내적은 스칼라를 리턴하고 외적은 벡터를 리턴한다.

* #### 유사한 방향을 가리키는 두 벡터의 내적은 양수이다. 유사한 방향이면 벡터가 커질수록 내적도 커진다. 하지만 같은 방향이면 벡터가 작더라도 양수의 내적 값을 리턴한다.

* #### 두 벡터가 반대 방향이나 거의 반대 방향을 가르키면 두 벡터의 내적은 음수 값을 가진다.
* #### 모든 벡터 쌍이 유사한 방향이나 반대 방향을 명확히 가르키는 건 아니다. 내적은 방향의 정도를 측정한다.
* #### 두 벡터가 가지런한 정도와 내적값은 비례한다.
* #### 수직인 벡터의 내적은 크기와 관계없이 모두 0이다.
* #### 두 벡터의 사잇각이 90도 미만이면 내적은 양수, 90도 초과하면 내적은 음수값이 나온다.


```python
def dot(u,v):
    return sum([coord1 * coord2 for coord1, coord2 in zip(u,v)])
# 코드로 만든 내적
# zip 함수를 사용해 같은 좌표끼리 쌍을 만들어준 뒤 곱한 값을 더해준다.
```


```python
# 실제 확인
def scale(scalar,v):
    return tuple(scalar * coord for coord in v)

print(dot((3,4),(2,3)))
print(dot((6,8),(2,3)))
print(dot(scale(2,(3,4)),(2,3)))
print(dot((3,4),scale(2,(2,3))))

# 내적은 각 입력 벡터의 길이에 비례함을 알 수 있다. 
```

    18
    36
    36
    36
    

#### 벡터 u와 v가 있다고 하면 내적 값은 abs(u) * abs(v) * cos(θ) 로 나타낼 수 있다.


```python
# 사용 사례
# 길이가 3,2 이고 사잇각이 75도 일때
from math import cos, pi
3 * 2 * cos(75*pi/180)
# 내적값은 1.55 인것을 볼 수 있다.
```




    1.5529142706151244



#### 내적은 2차원에서 위에 정의한 함수인 dot와 같이 cos 값을 몰라도 값을 구할 수 있다. 
#### 또한 acos 함수를 사용해서 세타 값을 구하는 방법이 더 편리하다.
#### 즉 2차원에서는 사잇각을 구하기 위해 사용될수도 있지만 내적에서는 그렇게 유용하지 못하다고 할 수 있다.
#### 내적은 실제로 좌표를 변경해도 각을 측정하기 어려운 3차원일 때 효율적이다.


```python
def angle_between(v1,v2):
    return acos(dot(v1,v2)/(length(v1)*length(v2)))
# 위의 함수는 모든 차원에서 동작할 수 있는 함수이다. 
```


```python
# 연습문제 3.11
u = (4,2)
v = (1,2)
w = (-4,1)
print(dot((4,2),(1,2))) # u*v
print(dot((4,2),(-4,1))) # u*w
print(dot((1,2),(-4,1))) # v*w
```

    8
    -14
    -2
    


```python
# 연습문제 3.12
dot((-1,-1,1),(1,2,1))
# 내적 값은 -2가 나온다. 내적 값이 음수가 나온다는 것은 사잇각이 90보다 크다는 것이다.
```




    -2



#### 연습문제 3.13
#### u = (a,b,c), v = (e,d,f)라고 정의하고 생각해보자
#### u와 v의 내적은 (ae,bd,cf)일 것이다. 이때 u와 v에 차례대로 N을 곱해 비교해 보겠다.
#### nu = (na,nb,nc)가 되며 nu와 v의 내적은 nae+nbd+ncf가 된다.
#### nv = (ne,nd,nf)가 되며 nv와 u의 내적은 nea+ndb+nfc가 된다.
#### 고로 두개의 내적값은 항상 같다고 할 수 있다.


```python
# 연습문제 3.15 

def to_cartesian(polar_vector):
    length, angle = polar_vector[0], polar_vector[1]
    return (length*cos(angle), length*sin(angle))
def length(v):
    return sqrt(sum([coord ** 2 for coord in v]))
from random import random
from math import pi,sin,sqrt

def random_vector_of_length(l):
 return to_cartesian((l, 2*pi*random()))

pairs = [(random_vector_of_length(3), random_vector_of_length(7))
     for i in range(0,3)]

for u,v in pairs:
 print("u = %s, v = %s" % (u,v))
 print("length of u : %f, length of v : %f, dot product :%f" %
 (length(u), length(v), dot(u,v)))
```

    u = (1.9943792170540353, -2.2410826710728307), v = (-5.56721461077653, -4.243362048842443)
    length of u : 3.000000, length of v : 7.000000, dot product :-1.593412
    u = (1.6695028999398176, 2.4925408857414033), v = (2.9283986450027055, -6.358024958738863)
    length of u : 3.000000, length of v : 7.000000, dot product :-10.958667
    u = (2.16118208751504, -2.080695072470768), v = (6.890520376376646, -1.2331783904765155)
    length of u : 3.000000, length of v : 7.000000, dot product :17.457537
    


```python
# 연습문제 3.16 
# length(u) = 3.61, length(v) = 1.44
uv = cos(101.3*pi/180)
uv
3.61*1.44*uv
```




    -1.0186064362303022




```python
# 연습문제 3.17
# (3,4), (4,3)의 사잇각을 구하고 극좌표로 변경 후, 각 벡터가 이루는 각의 차이를 계산해라
from math import acos
print(angle_between((3,4),(4,3)))
# 두 벡터가 이루는 각의 차이는 사잇각을 의미한다
# 위에 만들어놓은 사잇각을 구하는 함수를 사용해 구했다.
```

    0.283794109208328
    


```python
# 연습문제 3.18
# (1,1,1)과 (-1,-1,1)의 사잇각을 도로 나타내라

angle_between((1,1,1),(-1,-1,1))
```




    1.9106332362490186



 #### 외적은 3차원 벡터 u와 v를 입력으로 받아 다른 3차원 벡터인 u*v를 출력한다.
* #### 출력이 크기를 비롯해 방향도 갖는다는 점에서 내적과 차이가 있다.
 * #### 내적은 두 벡터가 얼마나 가지런한가를 측정하고, 외적은 두 벡터가 얼마나 수직에 근접한지를 측정한다

#### u=(1,0,0), v=(0,1,0)이면 외적 u * v 는 (0,0,1)에 위치하게 된다. 
#### 이것을 보면 외적은 2차원에서 성립할 수 없다는 것을 알 수 있다. 
#### 같은 말로 두 입력 벡터를 포함한 평면 바깥에 놓여있는 벡터로 리턴한다고 할 수 있다. 
#### 
#### 하지만 위에서 u와 v에 수직한 벡터는 (0,0,1)도 있지만 (0,0,-1)도 존재하고 있다.
#### 왜 (0,0,1)이 나오는지에 대해서는 수학자들이 사용하는 오른손 법칙을 알면 편하다
 * #### 오른손 법칙은 플레밍의 오른손 법칙과 비슷하다. 오른손 집게손가락 = x축 양의 방향, 엄지 = z축 양의 방향, 구부린 중지는 y축 양의 방향을 설정한다
 * #### 벡터 v,u, u * v는 오른손 법칙이 정하는 축 배치 방향이 되도록 놓이게 된다. 즉 v는 중지, u는 x, v * u 는 z 엄의 방향을 따라 간다고 생각하면 된다.
 

#### u * v 의 크기는 벡터 u와 v가 감싸는 평행사변형의 넓이와 같다. 즉 두 벡터가 수직일 때 가장 큰 값을 가지게 된다. 반면 수평일때 0의 값을 가지게 된다.
#### 위에서  u와 v가 감싸는 평행사변형의 면적은 abs(u) * abs(v) * sin(θ)와 같다. 길이를 구하고 오른손 법칙을 사용해 방향을 구하면 최종적인 외적을 구할 수 있다.


```python
# 코드로 보는 외적 정의
# u(ux,uy,uz), v(vx,vy,vz) 일때 
def cross(u,v):
    ux,uy,uz = u
    vx,vy,vz = v
    return(uy*vz-uz*vy, uz*vx-ux*vz, ux*vy-uy*vx)

# 코드 작동 확인
u = (1,1,0)
v = (-2,1,0)
cross(u,v)
```




    (0, 0, 3)



### 연습문제 3.19
### 3차원 박스에 원근감을 부여하고자 박스 뒷면을 회색으로 칠했다. 여러 그림 중 좌표축 설정 방법으로 옳은 것을 골라라
#### 문제 풀이를 위해 오른손 법칙을 사용해 문제에서 주어진 좌표축이 성립하는지 확인했다. 
* #### (a), (c), (d)는 오른손 법칙을 사용하면 모두 표현 할 수 있다. 하지만 (b)의 경우에는 양의 방향 y축이 반대로 되어 있는 것을 확인 할 수 있었다.


### 연습문제 3.20
#### 거울에 y축과 수평으로 놓고 비친 상을 확인 한다면 수직인 z축과 평행인  y축은 그대로 있을 것이지만 x축의 방향은 반대 방향으로 바뀔 것이다. 즉 본래 x축은 y축에서 시계방향으로 90도 회전한 상태로 존재하는 것이 맞지만 반시계방향으로 90도 회전한 상태로 존재하는 것으로 보일 것이다.


```python
# 연습문제 3.21
# 외적(0,0,3) * (0,-2,0)의 방향을 구하여라
q = (0,0,3)
w = (0,-2,0)
cross(q,w)
# 값을 확인하면 (6,0,0)이 나온다 즉 양의 x축 방향을 가르킨다고 볼 수 있다.
```




    (6, 0, 0)




```python
# 연습문제 3.22
# (1,-2,1)과 (-6,12,-6)을 외적한 결과의 좌표를 구하여라
e = (1,-2,1)
r = (-6,12,-6)
cross(e,r)
# 두 벡터 draw3D를 통해 보면 반대로으로 위치하고 있는 것을 볼 수 있다. 실제로 외적 값을 구하면 0이 나온다
```




    (0, 0, 0)



#### 연습문제 3.23
#### 평행사변형의 면적은 밑변 * 높이로 구할 수 있다.
* #### 높이를 구할 때 직각 삼각형을 만들고 주어진 한변을 v로 잡으면 sin(θ)*v 로 나타낼 수 있다.
* #### 최종적으로 면적을 구하면 u * v *sin(θ)가 된다고 할 수 있다.


```python
# 연습문제 3.24
# 외적 (1,0,1)*(-1,0,0)을 구하여라
t = (1,0,1)
u = (-1,0,0)
cross(t,u)
```




    (0, -1, 0)




```python
# 연습문제 3.25
# cross 함수를 사용해 벡터 v에 여러 값을 대입해보며 (0,0,1)*v 를 계산해라 각 z좌표를 구하고 왜 그런 결과가 나오는지 확인해라
a = (0,0,1)
v1 = (1,1,1)
v2 = (1,2,1)
v3 = (1,2,0)
print(cross(v1,a))
print(cross(v2,a))
print(cross(v3,a))

```

    (1, -1, 0)
    (2, -1, 0)
    (2, -1, 0)
    

#### 외적의 구하는 식을 생각해보면 (uy*vz-uz*vy, uz*vx-ux*vz, ux*vy-uy*vx) 으로 나타내게 된다.
#### 주어진 좌표가 (0,0,1)이라는 것은 uy와 ux는 0으로 마지막 z좌표는 vy와 vx에 어떤 값이 대입이 되어도 0이 나오는 것을 알 수 있다.

#### 연습문제 3.26 u * v 가 u와 v의 좌표에 상관없이 u와 v에 모두 수직임을 대수적으로 보여라
#### u = (ux,uy,uz)이고 v = (vx,vy,vz)라고 정의하자
#### u * v를 하게되면 (uyvz-uzvy, uzvx-uxvz, uxvy-uyvx)이 된다. 여기에 (ux,uy,uz)를 곱하면
#### (uyvzux-uzvyux + uzvxuy - uxvzuy + uxvyuz - uyvxuz) 가 된다. 보기에는 복잡하지만 부호가 다른 3개의 쌍으로 되어 있는 것을 볼 수 있다.
#### 고로 어떤 좌표 값을 대입하게 되더라도 0의 결과값을 얻을 수 있다.
#### 3.26문제는 외적의 내적을 구하는 것이다. 위의 결과 값으로 외적후 다시 내적을 하게되면 0이 나오는 것을 증명할 수 있다.


```python

```
