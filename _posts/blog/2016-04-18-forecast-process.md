---
layout: post
title: 由统计预测问题引发的"血案"
modified:
categories: blog
excerpt: "大家都是用什么方法预估下个月的数据的。比如我现在有一月二月三月业绩数据。想预估四月的。OK，问题抛出来之后我就在想，基于这个简单却常见一个问题，实际工作场景中，我们如何运用严谨的统计思维来分析呢？突然觉得这是个好问题，就作了这篇文字，简要的分析我的思路，很可能不全面或是存在错误，敬请斧正" 
tags: [statistics]
image:
feature:
date: 2016-04-18 Mon 13:37
comments: true
share: ture
---

## 背景
案情是这么发生的，看到群里一位朋友问到：

> "大家都是用什么方法预估下个月的数据的。比如我现在有一月二月三月业绩数据。想预估四月的。"

OK，问题抛出来之后我就在想，基于这个简单却常见的一个问题，实际工作场景中，我们如何运用严谨的统计思维来分析呢？突然觉得这是个好问题，就作了这篇文字，简要的分析我的思路，很可能不全面或是存在错误，敬请斧正。

## 分析思路

大概说一下这个问题的分析流程吧，一点拙见，欢迎讨论。

1. 首先思路要开放！三个月数据预测第四个月，存在的问题就是不论线性还是非线性模型，都样本太小，三个数据强行做个趋势预测不是不可以，只是预测结果的可信程度可能还不如路边找个傻子拍脑袋告诉你的准确（也有可能确实趋势很强，下个月真就涨上去了）。

2. 为了做出统计上可靠的结论，那么第一步你可能需要思考怎么找更多历史数据。

    1. 只考虑预测下月的话，比如找去年12个月的，那之后就有很多选择了：
        * 如果只有销量一个变量，那时间序列是不错选择，ARMA, ARIMA, GARCH都可以选择，如果为求简单，那trend model也可以。
        * 如果除了销量还有其他的很多你觉得可能影响销量的自变量，那么一元，多元线性回归就是不错的选择；
        * 试了一元，多元之后效果不好？OK，照样有办法，直接上非线性模型，这时候你就走到了模型选择的交叉路口，查查AIC, BIC, step-wise regression吧，能够实现选模型或者变量；
        * 如果发现你的自变量多到成百上千，OK，你来到了高维数据分析的前沿领域，这时候lasso, SCAD等一堆方法能够用来选变量再做回归，为什么的，因为变量太多存在多重共线性，关系也很可能是伪相关，很多是多余变量所以需要剔除大部分。
    
    2. 这只是考虑月度数据的预测，另一个思路可能是来拆这三个月数据，看数据有没有包含这三个月都是哪天发生的交易这样详细的信息，交易量多大，如果你认为每月当中哪些天会产生交易是有规律的，OK，把每天当做一个样本那你又有了很多样本（这里如果做多元回归前提可能需要其他自变量也能够收集到以天为单位的信息，如果做时间序列，那前提可能需要每天的销售是否平稳，不平稳要做平稳变换），有了数据，再回到上面的三个点步，继续挖掘。

3. 如果数据很多，你又想在微观上挖掘，那么可以从不同的产品线的销售情况方面去分析，打个比方，考虑不同产品，分别进行每个产品的预测，然后加总。这样需要建立多个模型，结果是否更好不确定，需要根据自身资源的问题重要程度来权衡。

4. 再比如说拥有电商平台的全量数据，那么可以用神经网络，logistics回归来预测每个消费者下个月的购买概率，然后通过电商平台销售额与总销售额的比例，推算总销售额。

5. 最后，讲个故事，我很敬佩的一个教估值（Equity Valuation），实物期权（Real Option)的教授Dr. Daniel Indro说过，如果考虑估苹果公司这样的大公司股票价值，那么由于其产品线各异，每个产品针对的市场，目标消费者的的偏好各有不同，很有可能需要对每个产品线单独估计销售额、现金流以实现更准确的公司总估值。但是这就非常复杂啦，我自己的感觉是，大家都是理性人，是否深挖下去取决于这个问题是否值得投入这么大的人力、物力，如果这关系3亿美元的股权投资，那么可能会有团队投入专业分析团队，持续奋战，希望达到更准确，误差更小的估计值。如果只是群里这样的问题，那么，可能三分钟的简单线性回归就能大概给出一定判断。

## 总结：

> 每个问题都有自己具体的背景，假设，联系，在分析时，请保持Wild Mind, 先淡定的做出it depends这样的判断。当合理的分析活动持续推进，笼罩问题的神秘面纱层层揭开之时，你就可以自信地告诉你的老板、同事、客户、审稿人，“基于以上假设，这就是目前最好的结果！”
>
> -- Jeremy Zhu

*转载请注明出处，并且放上公众号名字“众享数据IamEveryone"*

![Smithsonian Image]({{ site.url }}/images/QR.jpeg)
